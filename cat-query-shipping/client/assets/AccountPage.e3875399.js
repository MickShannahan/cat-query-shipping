import{a as _,j as C,c as A,b as E,G as j,o as i,d as c,e,g as F,H as v,Q as V,t as d,V as D,i as l,F as G,l as I,D as N,E as U,a4 as T,n as R}from"./vendor.40082dfa.js";import{a as q,l as M,A as m,_ as z,b as H,P}from"./index.925525e9.js";class L{async getProfiles(){let o=await q.get("api/profiles");M.log(o.data),m.profiles=o.data}}const Q=new L;const J={name:"Account",setup(){const a=_(!1),o=_({}),r=_("edit employee record");return C(()=>{Q.getProfiles(),o.value=m.account}),{editMode:a,editable:o,editTip:r,account:A(()=>m.account),leaderboard:A(()=>m.profiles.filter(t=>t.credits>0).sort((t,u)=>u.credits-t.credits)),async editAccount(){try{a.value?(await H.editAccount(o.value),P.toast("Employee record updated","success"),a.value=!1,r.value="edit employee record"):(a.value=!0,r.value="save record")}catch(t){P.toast(t==null?void 0:t.error),M.error(t)}}}}},n=a=>(N("data-v-9e2f1530"),a=a(),U(),a),K={class:"container text-center"},O={class:"row mt-5 about justify-content-center"},W={class:"col-12 col-lg-5 me-lg-5 mb-3 p-lg-0"},X={class:"row bg-warning rounded lighten-10 shadow p-3"},Y={class:"col-4"},Z=["src"],$={class:"col-8 text-start position-relative"},ee={key:0,class:"text-primary"},te=n(()=>e("i",{class:"mdi mdi-google-podcast mx-1"},null,-1)),oe=n(()=>e("b",null,"Recovered Shipments:",-1)),se={class:"text-primary"},de={class:"col-lg-6 shadow bg-primary lighten-20 rounded p-3 mb-5"},ae={class:"row justif-content-center leader-border p-2 mx-3"},ie=n(()=>e("h4",{class:"col-12 text-center"},[e("i",{class:"mdi mdi-cat mx-1"}),l("Employee of the Cycle"),e("i",{class:"mdi mdi-cat mx-1"})],-1)),ce={class:"col-6"},le={class:"text-dark"},ne=n(()=>e("i",{class:"mdi mdi-google-podcast mx-1"},null,-1)),re=n(()=>e("b",null,"Recovered Shipments:",-1)),me={class:"text-primary"},_e={class:"col-6 mb-5"},ve=["src"],ue=T('<div class="row text-primary mt-3" data-v-9e2f1530><div class="col-4" data-v-9e2f1530>name</div><div class="col-3" data-v-9e2f1530><i class="mdi mdi-google-podcast mx-1" data-v-9e2f1530></i></div><div class="col-2" data-v-9e2f1530><i class="mdi mdi-package mx-1" data-v-9e2f1530></i></div><div class="col-3" data-v-9e2f1530><i class="mdi mdi-smart-card mx-1" data-v-9e2f1530></i></div></div>',1),pe={class:"row p-0"},he={class:"leaderboard h-25"},ge={class:"col-12 p-0"},fe={class:"col-4 list-border"},be={class:"col-3 list-border"},xe={class:"col-2 list-border"},we={class:"col-3 list-border"};function ye(a,o,r,t,u,ke){var h,g,f,b,x,w,y,k;const B=E("UploadButton"),p=j("tooltip");return i(),c("div",K,[e("div",O,[e("div",W,[e("div",X,[e("div",Y,[t.editMode?(i(),F(B,{key:1,onUploadComplete:o[0]||(o[0]=s=>t.editable.picture=s.url),options:{class:"w-100 btn btn-white form-control px-3 py-5",spinner:"\u{1F431}"}})):(i(),c("img",{key:0,class:"img-fluid border-2 border-warningS rounded-1",src:t.account.picture,alt:""},null,8,Z))]),e("div",$,[v(e("i",{class:"mdi mdi-cancel me-5 icon selectable text-danger darken-10 p-1 px-2 rounded",onClick:o[1]||(o[1]=s=>t.editMode=!t.editMode)},null,512),[[V,t.editMode],[p,"cancel","auto"]]),v(e("i",{class:"mdi mdi-pencil icon selectable text-warning darken-40 p-1 px-2 rounded",onClick:o[2]||(o[2]=(...s)=>t.editAccount&&t.editAccount(...s))},null,512),[[p,"edit account","auto"]]),t.editMode?v((i(),c("input",{key:1,class:"form-control w-75",type:"text",placeholder:"Enter Name..","onUpdate:modelValue":o[3]||(o[3]=s=>t.editable.name=s),minlength:"5",maxlength:"15",required:""},null,512)),[[D,t.editable.name]]):(i(),c("h5",ee,d(t.account.name),1)),e("div",null,[te,l(d(t.account.credits),1)]),e("div",null,[oe,l(" "+d((h=t.account.shipmentsFound)==null?void 0:h.length),1)]),e("h4",null,[e("b",se,d((g=t.account)==null?void 0:g.employeeGrade),1)])])])]),e("div",de,[e("div",ae,[ie,e("div",ce,[e("h5",le,d((f=t.leaderboard[0])==null?void 0:f.name),1),e("div",null,[ne,l(d((b=t.leaderboard[0])==null?void 0:b.credits),1)]),e("div",null,[re,l(" "+d((w=(x=t.leaderboard[0])==null?void 0:x.shipmentsFound)==null?void 0:w.length),1)]),e("h4",null,[e("b",me,d((y=t.leaderboard[0])==null?void 0:y.employeeGrade),1)])]),e("div",_e,[e("img",{class:"img-fluid border border-primary rounded-1",src:(k=t.leaderboard[0])==null?void 0:k.picture,alt:""},null,8,ve)])]),ue,e("div",pe,[e("div",he,[e("div",ge,[(i(!0),c(G,null,I(t.leaderboard.slice(1),s=>{var S;return i(),c("div",{key:s.id,class:R(["row mt-2 px-2",{"text-warning":s.id==t.account.id,"text-dark":s.id!=t.account.id}])},[e("div",fe,d(s.name),1),e("div",be,d(s.credits),1),e("div",xe,d((S=s.shipmentsFound)==null?void 0:S.length),1),e("div",we,d(s.employeeGrade),1)],2)}),128))])])])])])])}var Me=z(J,[["render",ye],["__scopeId","data-v-9e2f1530"]]);export{Me as default};
