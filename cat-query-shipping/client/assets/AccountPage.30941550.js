import{i as v,j as V,c as A,G as j,o as c,b as i,d as e,H as m,V as E,Q as F,t as a,h as l,F as C,k as D,D as G,E as I,a4 as N,n as B}from"./vendor.3943c63e.js";import{a as T,l as M,A as _,_ as q,b as R,P}from"./index.09aeff5c.js";class U{async getProfiles(){let o=await T.get("api/profiles");M.log(o.data),_.profiles=o.data}}const z=new U;const H={name:"Account",setup(){const s=v(!1),o=v({}),n=v("edit employee record");return V(()=>{z.getProfiles(),o.value=_.account}),{editMode:s,editable:o,editTip:n,account:A(()=>_.account),leaderboard:A(()=>_.profiles.filter(t=>t.credits>0).sort((t,u)=>u.credits-t.credits)),async editAccount(){try{s.value?(await R.editAccount(o.value),P.toast("Employee record updated","success"),s.value=!1,n.value="edit employee record"):(s.value=!0,n.value="save record")}catch(t){P.toast(t==null?void 0:t.error),M.error(t)}}}}},r=s=>(G("data-v-a9df4f3c"),s=s(),I(),s),L={class:"container text-center"},Q={class:"row mt-5 about justify-content-center"},J={class:"col-12 col-lg-5 me-lg-5 mb-3 p-lg-0"},K={class:"row bg-warning rounded lighten-10 shadow p-3"},O={class:"col-4"},W=["src"],X={class:"col-8 text-start position-relative"},Y={key:0,class:"text-primary"},Z=r(()=>e("i",{class:"mdi mdi-google-podcast mx-1"},null,-1)),$=r(()=>e("b",null,"Recovered Shipments:",-1)),ee={class:"text-primary"},te={class:"col-lg-6 shadow bg-primary lighten-20 rounded p-3 mb-5"},oe={class:"row justif-content-center leader-border p-2 mx-3"},de=r(()=>e("h4",{class:"col-12 text-center"},[e("i",{class:"mdi mdi-cat mx-1"}),l("Employee of the Cycle"),e("i",{class:"mdi mdi-cat mx-1"})],-1)),ae={class:"col-6"},se={class:"text-dark"},ce=r(()=>e("i",{class:"mdi mdi-google-podcast mx-1"},null,-1)),ie=r(()=>e("b",null,"Recovered Shipments:",-1)),le={class:"text-primary"},re={class:"col-6 mb-5"},ne=["src"],me=N('<div class="row text-primary mt-3" data-v-a9df4f3c><div class="col-4" data-v-a9df4f3c>name</div><div class="col-3" data-v-a9df4f3c><i class="mdi mdi-google-podcast mx-1" data-v-a9df4f3c></i></div><div class="col-2" data-v-a9df4f3c><i class="mdi mdi-package mx-1" data-v-a9df4f3c></i></div><div class="col-3" data-v-a9df4f3c><i class="mdi mdi-smart-card mx-1" data-v-a9df4f3c></i></div></div>',1),_e={class:"row p-0"},ve={class:"leaderboard h-25"},ue={class:"col-12 p-0"},he={class:"col-4 list-border"},pe={class:"col-3 list-border"},fe={class:"col-2 list-border"},ge={class:"col-3 list-border"};function be(s,o,n,t,u,xe){var p,f,g,b,x,y,w,k;const h=j("tooltip");return c(),i("div",L,[e("div",Q,[e("div",J,[e("div",K,[e("div",O,[t.editMode?m((c(),i("input",{key:1,class:"form-control w-100",type:"text",placeholder:"Enter image url..","onUpdate:modelValue":o[0]||(o[0]=d=>t.editable.picture=d),required:""},null,512)),[[E,t.editable.picture]]):(c(),i("img",{key:0,class:"img-fluid border-2 border-warningS rounded-1",src:t.account.picture,alt:""},null,8,W))]),e("div",X,[m(e("i",{class:"mdi mdi-cancel me-5 icon selectable text-danger darken-10 p-1 px-2 rounded",onClick:o[1]||(o[1]=d=>t.editMode=!t.editMode)},null,512),[[F,t.editMode],[h,"cancel","auto"]]),m(e("i",{class:"mdi mdi-pencil icon selectable text-warning darken-40 p-1 px-2 rounded",onClick:o[2]||(o[2]=(...d)=>t.editAccount&&t.editAccount(...d))},null,512),[[h,"edit account","auto"]]),t.editMode?m((c(),i("input",{key:1,class:"form-control w-75",type:"text",placeholder:"Enter Name..","onUpdate:modelValue":o[3]||(o[3]=d=>t.editable.name=d),minlength:"5",maxlength:"15",required:""},null,512)),[[E,t.editable.name]]):(c(),i("h5",Y,a(t.account.name),1)),e("div",null,[Z,l(a(t.account.credits),1)]),e("div",null,[$,l(" "+a((p=t.account.shipmentsFound)==null?void 0:p.length),1)]),e("h4",null,[e("b",ee,a((f=t.account)==null?void 0:f.employeeGrade),1)])])])]),e("div",te,[e("div",oe,[de,e("div",ae,[e("h5",se,a((g=t.leaderboard[0])==null?void 0:g.name),1),e("div",null,[ce,l(a((b=t.leaderboard[0])==null?void 0:b.credits),1)]),e("div",null,[ie,l(" "+a((y=(x=t.leaderboard[0])==null?void 0:x.shipmentsFound)==null?void 0:y.length),1)]),e("h4",null,[e("b",le,a((w=t.leaderboard[0])==null?void 0:w.employeeGrade),1)])]),e("div",re,[e("img",{class:"img-fluid border border-primary rounded-1",src:(k=t.leaderboard[0])==null?void 0:k.picture,alt:""},null,8,ne)])]),me,e("div",_e,[e("div",ve,[e("div",ue,[(c(!0),i(C,null,D(t.leaderboard.slice(1),d=>{var S;return c(),i("div",{key:d.id,class:B(["row mt-2 px-2",{"text-warning":d.id==t.account.id,"text-dark":d.id!=t.account.id}])},[e("div",he,a(d.name),1),e("div",pe,a(d.credits),1),e("div",fe,a((S=d.shipmentsFound)==null?void 0:S.length),1),e("div",ge,a(d.employeeGrade),1)],2)}),128))])])])])])])}var ke=q(H,[["render",be],["__scopeId","data-v-a9df4f3c"]]);export{ke as default};
