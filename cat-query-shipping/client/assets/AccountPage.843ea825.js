import{B as v,z as M,c as k,l as P,o as i,b as c,d as e,m,V as S,G as V,A as s,h as l,F,D as j,x as B,y as C,a4 as D,E as G}from"./vendor.a49bbcba.js";import{a as I,l as A,A as _,_ as N,b as T,P as E}from"./index.d2376d08.js";class q{async getProfiles(){let o=await I.get("api/profiles");A.log(o.data),_.profiles=o.data}}const z=new q;const R={name:"Account",setup(){const d=v(!1),o=v({}),n=v("edit employee record");return M(()=>{z.getProfiles(),o.value=_.account}),{editMode:d,editable:o,editTip:n,account:k(()=>_.account),leaderboard:k(()=>_.profiles.sort((t,u)=>u.credits-t.credits)),async editAccount(){try{d.value?(await T.editAccount(o.value),E.toast("Employee record updated","success"),d.value=!1,n.value="edit employee record"):(d.value=!0,n.value="save record")}catch(t){E.toast(t==null?void 0:t.error),A.error(t)}}}}},r=d=>(B("data-v-7e013ba0"),d=d(),C(),d),U={class:"container text-center"},L={class:"row mt-5 about justify-content-center"},H={class:"col-12 col-lg-5 me-lg-5 mb-3 p-lg-0"},J={class:"row bg-warning rounded lighten-10 shadow p-3"},K={class:"col-4"},O=["src"],Q={class:"col-8 text-start position-relative"},W={key:0,class:"text-primary"},X=r(()=>e("i",{class:"mdi mdi-google-podcast mx-1"},null,-1)),Y=r(()=>e("b",null,"Recovered Shipments:",-1)),Z={class:"text-primary"},$={class:"col-lg-6 shadow bg-primary lighten-20 rounded p-3"},ee={class:"row justif-content-center leader-border p-2 mx-3"},te=r(()=>e("h4",{class:"col-12 text-center"},[e("i",{class:"mdi mdi-cat mx-1"}),l("Employee of the Cycle"),e("i",{class:"mdi mdi-cat mx-1"})],-1)),oe={class:"col-6"},ae={class:"text-dark"},se=r(()=>e("i",{class:"mdi mdi-google-podcast mx-1"},null,-1)),de=r(()=>e("b",null,"Recovered Shipments:",-1)),ie={class:"text-primary"},ce={class:"col-6"},le=["src"],re=D('<div class="row text-primary mt-3" data-v-7e013ba0><div class="col-4" data-v-7e013ba0>name</div><div class="col-3" data-v-7e013ba0><i class="mdi mdi-google-podcast mx-1" data-v-7e013ba0></i></div><div class="col-2" data-v-7e013ba0><i class="mdi mdi-package mx-1" data-v-7e013ba0></i></div><div class="col-3" data-v-7e013ba0><i class="mdi mdi-smart-card mx-1" data-v-7e013ba0></i></div></div>',1),ne={class:"row leaderboard p-0"},me={class:"col-12 p-0"},_e={class:"col-4 list-border"},ve={class:"col-3 list-border"},ue={class:"col-2 list-border"},pe={class:"col-3 list-border"};function he(d,o,n,t,u,be){var h,b,g,x,f,y,w;const p=P("tooltip");return i(),c("div",U,[e("div",L,[e("div",H,[e("div",J,[e("div",K,[t.editMode?m((i(),c("input",{key:1,class:"form-control w-100",type:"text",placeholder:"Enter image url..","onUpdate:modelValue":o[0]||(o[0]=a=>t.editable.picture=a),required:""},null,512)),[[S,t.editable.picture]]):(i(),c("img",{key:0,class:"img-fluid border-2 border-warningS rounded-1",src:t.account.picture,alt:""},null,8,O))]),e("div",Q,[m(e("i",{class:"mdi mdi-cancel me-5 icon selectable text-danger darken-10 p-1 px-2 rounded",onClick:o[1]||(o[1]=a=>t.editMode=!t.editMode)},null,512),[[V,t.editMode],[p,"cancel","auto"]]),m(e("i",{class:"mdi mdi-pencil icon selectable text-warning darken-40 p-1 px-2 rounded",onClick:o[2]||(o[2]=(...a)=>t.editAccount&&t.editAccount(...a))},null,512),[[p,"edit account","auto"]]),t.editMode?m((i(),c("input",{key:1,class:"form-control w-75",type:"text",placeholder:"Enter Name..","onUpdate:modelValue":o[3]||(o[3]=a=>t.editable.name=a),minlength:"5",maxlength:"15",required:""},null,512)),[[S,t.editable.name]]):(i(),c("h5",W,s(t.account.name),1)),e("div",null,[X,l(s(t.account.credits),1)]),e("div",null,[Y,l(" "+s((h=t.account.shipmentsFound)==null?void 0:h.length),1)]),e("h4",null,[e("b",Z,s((b=t.account)==null?void 0:b.employeeGrade),1)])])])]),e("div",$,[e("div",ee,[te,e("div",oe,[e("h5",ae,s((g=t.leaderboard[0])==null?void 0:g.name),1),e("div",null,[se,l(s((x=t.leaderboard[0])==null?void 0:x.credits),1)]),e("div",null,[de,l(" "+s((f=t.leaderboard[0])==null?void 0:f.shipmentsFound.length),1)]),e("h4",null,[e("b",ie,s((y=t.leaderboard[0])==null?void 0:y.employeeGrade),1)])]),e("div",ce,[e("img",{class:"img-fluid border border-primary rounded-1",src:(w=t.leaderboard[0])==null?void 0:w.picture,alt:""},null,8,le)])]),re,e("div",ne,[e("div",me,[(i(!0),c(F,null,j(t.leaderboard.slice(1),a=>(i(),c("div",{key:a.id,class:G(["row mt-2 px-2",{"text-warning":a.id==t.account.id,"text-dark":a.id!=t.account.id}])},[e("div",_e,s(a.name),1),e("div",ve,s(a.credits),1),e("div",ue,s(a.shipmentsFound.length),1),e("div",pe,s(a.employeeGrade),1)],2))),128))])])])])])}var fe=N(R,[["render",he],["__scopeId","data-v-7e013ba0"]]);export{fe as default};
