import{a as _,j as E,c as M,b as G,G as j,o as i,d as c,e,g as F,H as v,Q as D,t as d,Y as I,i as l,F as N,l as U,D as V,E as T,a6 as R,n as q}from"./vendor.cdc2764d.js";import{a as z,l as P,A as m,_ as H,b as L,P as B}from"./index.a2a176d3.js";class Q{async getProfiles(){let o=await z.get("api/profiles");P.log(o.data),m.profiles=o.data}}const Y=new Q;const J={name:"Account",setup(){const a=_(!1),o=_({}),r=_("edit employee record");return E(()=>{Y.getProfiles(),o.value=m.account}),{editMode:a,editable:o,editTip:r,account:M(()=>m.account),leaderboard:M(()=>m.profiles.filter(t=>t.credits>0).sort((t,u)=>u.credits-t.credits)),async editAccount(){try{a.value?(await L.editAccount(o.value),B.toast("Employee record updated","success"),a.value=!1,r.value="edit employee record"):(a.value=!0,r.value="save record")}catch(t){B.toast(t==null?void 0:t.error),P.error(t)}}}}},n=a=>(V("data-v-405f8083"),a=a(),T(),a),K={class:"container text-center"},O={class:"row mt-5 about justify-content-center"},W={class:"col-12 col-lg-5 me-lg-5 mb-3 p-lg-0"},X={class:"row bg-warning rounded lighten-10 shadow p-3"},Z={class:"col-4"},$=["src"],ee={class:"col-8 text-start position-relative"},te={key:0,class:"text-primary"},oe=n(()=>e("i",{class:"mdi mdi-google-podcast mx-1"},null,-1)),se=n(()=>e("b",null,"Recovered Shipments:",-1)),de={class:"text-primary"},ae={class:"col-lg-6 shadow bg-primary lighten-20 rounded p-3 mb-5"},ie={class:"row justif-content-center leader-border p-2 mx-3"},ce=n(()=>e("h4",{class:"col-12 text-center"},[e("i",{class:"mdi mdi-cat mx-1"}),l("Employee of the Cycle"),e("i",{class:"mdi mdi-cat mx-1"})],-1)),le={class:"col-6"},ne={class:"text-dark"},re=n(()=>e("i",{class:"mdi mdi-google-podcast mx-1"},null,-1)),me=n(()=>e("b",null,"Recovered Shipments:",-1)),_e={class:"text-primary"},ve={class:"col-6 mb-5"},ue=["src"],pe=R('<div class="row text-primary mt-3" data-v-405f8083><div class="col-4" data-v-405f8083>name</div><div class="col-3" data-v-405f8083><i class="mdi mdi-google-podcast mx-1" data-v-405f8083></i></div><div class="col-2" data-v-405f8083><i class="mdi mdi-package mx-1" data-v-405f8083></i></div><div class="col-3" data-v-405f8083><i class="mdi mdi-smart-card mx-1" data-v-405f8083></i></div></div>',1),he={class:"row p-0"},ge={class:"leaderboard h-25"},be={class:"col-12 p-0"},fe={class:"col-4 list-border"},xe={class:"col-3 list-border"},we={class:"col-2 list-border"},ye={class:"col-3 list-border"};function ke(a,o,r,t,u,Se){var h,g,b,f,x,w,y,k,S;const C=G("UploadButton"),p=j("tooltip");return i(),c("div",K,[e("div",O,[e("div",W,[e("div",X,[e("div",Z,[t.editMode?(i(),F(C,{key:1,onUploadComplete:o[0]||(o[0]=s=>t.editable.picture=s.url),options:{class:"w-100 btn btn-white form-control px-3 py-5",spinner:"\u{1F431}"}})):(i(),c("img",{key:0,class:"img-fluid border-2 border-warningS rounded-1",src:t.account.picture,alt:""},null,8,$))]),e("div",ee,[v(e("i",{class:"mdi mdi-cancel me-5 icon selectable text-danger darken-10 p-1 px-2 rounded",onClick:o[1]||(o[1]=s=>t.editMode=!t.editMode)},null,512),[[D,t.editMode],[p,"cancel","auto"]]),v(e("i",{class:"mdi mdi-pencil icon selectable text-warning darken-40 p-1 px-2 rounded",onClick:o[2]||(o[2]=(...s)=>t.editAccount&&t.editAccount(...s))},null,512),[[p,"edit account","auto"]]),t.editMode?v((i(),c("input",{key:1,class:"form-control w-75",type:"text",placeholder:"Enter Name..","onUpdate:modelValue":o[3]||(o[3]=s=>t.editable.name=s),minlength:"5",maxlength:"15",required:""},null,512)),[[I,t.editable.name]]):(i(),c("h5",te,d(t.account.name),1)),e("div",null,[oe,l(d(t.account.credits),1)]),e("div",null,[se,l(" "+d((h=t.account.shipmentsFound)==null?void 0:h.length),1)]),e("h4",null,[e("b",de,d((g=t.account)==null?void 0:g.employeeGrade),1)])])])]),e("div",ae,[e("div",ie,[ce,e("div",le,[e("h5",ne,d((b=t.leaderboard[0])==null?void 0:b.name),1),e("div",null,[re,l(d((f=t.leaderboard[0])==null?void 0:f.credits),1)]),e("div",null,[me,l(" "+d((w=(x=t.leaderboard[0])==null?void 0:x.shipmentsFound)==null?void 0:w.length),1)]),e("h4",null,[e("b",_e,d(((y=t.leaderboard[0])==null?void 0:y.topGrade)||((k=t.leaderboard[0])==null?void 0:k.employeeGrade)),1)])]),e("div",ve,[e("img",{class:"img-fluid border border-primary rounded-1",src:(S=t.leaderboard[0])==null?void 0:S.picture,alt:""},null,8,ue)])]),pe,e("div",he,[e("div",ge,[e("div",be,[(i(!0),c(N,null,U(t.leaderboard.slice(1),s=>{var A;return i(),c("div",{key:s.id,class:q(["row mt-2 px-2",{"text-warning":s.id==t.account.id,"text-dark":s.id!=t.account.id}])},[e("div",fe,d(s.name),1),e("div",xe,d(s.credits),1),e("div",we,d((A=s.shipmentsFound)==null?void 0:A.length),1),e("div",ye,d(s.topGrade||s.employeeGrade),1)],2)}),128))])])])])])])}var Pe=H(J,[["render",ke],["__scopeId","data-v-405f8083"]]);export{Pe as default};
